<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New in PowerHub 2.0 &mdash; PowerHub 2.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Motivation &amp; Philosophy" href="philosophy.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PowerHub
          </a>
              <div class="version">
                2.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="philosophy.html">Motivation &amp; Philosophy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">New in PowerHub 2.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packaging">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#no-more-dev-branch">No more dev branch</a></li>
<li class="toctree-l2"><a class="reference internal" href="#workspace-directory">Workspace directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#powershell-v2">PowerShell v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#key-exchange">Key exchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-loaded-modules">Pre-loaded modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#power-obfuscate">power-obfuscate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#depreciation-of-load-hubmodule">Depreciation of Load-HubModule</a></li>
<li class="toctree-l2"><a class="reference internal" href="#depreciation-of-the-loot-tab">Depreciation of the Loot tab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="evasion.html">Antivirus Evasion Techniques</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PowerHub</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">New in PowerHub 2.0</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/new.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="new-in-powerhub-2-0">
<h1>New in PowerHub 2.0<a class="headerlink" href="#new-in-powerhub-2-0" title="Permalink to this heading"></a></h1>
<p>PowerHub grew over the years from a small script™ meant for personal
experiments or even learning exercises to a tool that many people use, so
with version 2.0 come some well-deserved changes, like proper documentation,
packaging and a more fleshed-out implementation of some ideas I had in the
beginning.</p>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading"></a></h2>
<p>Documentation is now hosted by GitHub pages; the GitHub wiki is disabled.</p>
</section>
<section id="packaging">
<h2>Packaging<a class="headerlink" href="#packaging" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">powerhub.py</span></code> and <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> have been removed. The <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>
has been replaced with a <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>. PowerHub is now a first-class
Python package and should be treated as such. Like any other Python package,
it should be installed with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code>, which will place executables in
<code class="docutils literal notranslate"><span class="pre">~/.local/bin</span></code>.</p>
</section>
<section id="no-more-dev-branch">
<h2>No more dev branch<a class="headerlink" href="#no-more-dev-branch" title="Permalink to this heading"></a></h2>
<p>Development will happen directly on the master branch. Releases will be
tagged and made available on PyPI. Installing directly from the repository
is not recommended, unless you want to test out the latest changes or you
want to contribute to the project. I will be less inclined to help out with
issues if you use a bleeding edge version. Bug reports will always be
welcome, though!</p>
</section>
<section id="workspace-directory">
<h2>Workspace directory<a class="headerlink" href="#workspace-directory" title="Permalink to this heading"></a></h2>
<p>There is now a clearer separation of files that belong to the workspace
directory. To be precise, the database and most directories in
<code class="docutils literal notranslate"><span class="pre">$XDG_DATA_HOME/powerhub</span></code> have been moved into a new subdirectory named
<code class="docutils literal notranslate"><span class="pre">workspace</span></code>. As a side effect, this may make your clipboard and uploads
files appear empty. This fixes that (assuming <code class="docutils literal notranslate"><span class="pre">$XDG_DATA_HOME</span></code> is
undefined):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>~/.local/share/powerhub
<span class="gp">$ </span>mv<span class="w"> </span>powerhub_db.sqlite<span class="w"> </span>upload<span class="w"> </span>webdav*<span class="w"> </span>workspace/
</pre></div>
</div>
</section>
<section id="powershell-v2">
<h2>PowerShell v2<a class="headerlink" href="#powershell-v2" title="Permalink to this heading"></a></h2>
<p>PowerShell v2 is not supported anymore. It becomes less and less common and
the amount of effort it takes to make PowerHub run on v2 is not justified by
the benefit. Besides, AMSI does not exist in v2, so just load the modules
directly. PowerHub has the “Static List” feature for this.</p>
</section>
<section id="key-exchange">
<h2>Key exchange<a class="headerlink" href="#key-exchange" title="Permalink to this heading"></a></h2>
<p>In PowerHub 1.0, the key was simply embedded in the stager. In principle,
this is a vulnerability, as specialized antivirus products could use the key
to inspect the higher order stages. PowerHub 2.0 performs a Diffie-Hellman
key exchange by default (but no server verification on top of the TLS
handshake) and also supports an out-of-band key exchange, meaning the key is
pasted on the command line.</p>
</section>
<section id="pre-loaded-modules">
<h2>Pre-loaded modules<a class="headerlink" href="#pre-loaded-modules" title="Permalink to this heading"></a></h2>
<p>It’s now possible to deliver the PowerHub payload with some modules
pre-loaded. This is interesting for environments without network access. If
the key is also embedded in the stager, you can deliver it manually e.g. via
USB to the target and use the modules.</p>
</section>
<section id="power-obfuscate">
<h2>power-obfuscate<a class="headerlink" href="#power-obfuscate" title="Permalink to this heading"></a></h2>
<p>Installing PowerHub will yield a new executable: <code class="docutils literal notranslate"><span class="pre">power-obfuscate</span></code>. This
makes it possible to use the obfuscation techniques of PowerHub on arbitrary
PowerShell scripts or .NET executables without having to use the web
application.</p>
</section>
<section id="depreciation-of-load-hubmodule">
<h2>Depreciation of Load-HubModule<a class="headerlink" href="#depreciation-of-load-hubmodule" title="Permalink to this heading"></a></h2>
<p>It was confusing to have both <code class="docutils literal notranslate"><span class="pre">Load-HubModule</span></code> and <code class="docutils literal notranslate"><span class="pre">Get-HubModule</span></code>. We had
to execute the former to be able to use the latter. Now there is only
<code class="docutils literal notranslate"><span class="pre">Get-HubModule</span></code>. It performs lazy loading over the network when needed,
which means that the code of the module is transferred the first time you
execute <code class="docutils literal notranslate"><span class="pre">Get-HubModule</span></code> or if you explicitely pass the <code class="docutils literal notranslate"><span class="pre">-Reload</span></code> switch.</p>
</section>
<section id="depreciation-of-the-loot-tab">
<h2>Depreciation of the Loot tab<a class="headerlink" href="#depreciation-of-the-loot-tab" title="Permalink to this heading"></a></h2>
<p>Dumping LSASS is too much of a moving target and should be left to specialty
tools. The idea was that dumping LSASS is possible with only
<a class="reference external" href="https://lolbas-project.github.io/">LOLBINs</a>, so it seemed like a small
addition to endow PowerHub with this capability, but things have gotten
complicated lately. AVs are quarantining the dump file, the LSASS process is
protected by various mechanisms, etc. It’s better to use specialized tools
as outlined <a class="reference external" href="https://s3cur3th1ssh1t.github.io/Reflective-Dump-Tools/">here</a>
and references therein.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="philosophy.html" class="btn btn-neutral float-left" title="Motivation &amp; Philosophy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2023, Adrian Vollmer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 2.0.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Versions</dt>
        
          
          <dd><a href="/PowerHub/master/">master</a></dd>
          
        
          
          <dd><a href="/PowerHub/2.0.0/">latest</a></dd>
          
        
      </dl>
      
      <hr/>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <link rel="stylesheet" type="text/css" href="_static/custom.css">



</body>
</html>